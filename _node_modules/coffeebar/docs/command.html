<!DOCTYPE html>

<html>
<head>
  <title>command.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>command.coffee</h1>
        

        
          <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
              
                
                <li>
                  <a class="source" href="coffeebar.html">
                    coffeebar.coffee
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="command.html">
                    command.coffee
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="source.html">
                    source.coffee
                  </a>
                </li>
              
            </ol>
          </div>
        
      </div>

      
        
        <p>External dependencies</p>

        
          <div class='highlight'><pre>program   = require <span class="string">'commander'</span>
coffeebar = require <span class="string">'./coffeebar'</span></pre></div>
        
      
        
        <p>The Coffeebar command line utility. At a minimum, this command will compile
an input CoffeeScript file or directory tree into JavaScript files. Additional 
actions such as minification, joining and file watching can be specified here 
as well as compiler options.</p>

        
          <div class='highlight'><pre>module.exports.<span class="function"><span class="title">run</span></span> =  -&gt;

  program
    .version(<span class="string">'0.1.0'</span>)
    .usage(<span class="string">'[options] [path ...]'</span>)
    .option(<span class="string">'-b, --bare'</span>, <span class="string">'compile without a top-level function wrapper'</span>)
    .option(<span class="string">'-m, --minify'</span>, <span class="string">'minify output files'</span>)
    .option(<span class="string">'-o, --output &lt;path&gt;'</span>, <span class="string">'output path'</span>)
    .option(<span class="string">'-s, --silent'</span>, <span class="string">'suppress console output'</span>)
    .option(<span class="string">'-w, --watch'</span>, <span class="string">'watch files for changes'</span>)

    program.parse process.argv

    options =
      output  : program.output
      watch   : program.watch
      silent  : program.silent || <span class="literal">false</span>
      minify  : program.minify
      bare    : program.bare

    console.log <span class="string">''</span> <span class="keyword">unless</span> options.silent
    coffeebar program.args, options
    console.log <span class="string">''</span> <span class="keyword">unless</span> options.silent</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
